Bạn là kỹ sư AI, hãy xây dựng pipeline dự đoán giá NFT dựa trên dữ liệu Coingecko theo các yêu cầu sau:

1. Thu thập dữ liệu:
Dùng Python, lấy dữ liệu giá (floor price), volume, market cap của các bộ sưu tập NFT trên Coingecko (hoặc dùng dữ liệu coin nếu không có NFT).

Sử dụng các endpoint /nfts/{id}/market_chart hoặc /coins/{id}/market_chart của Coingecko API.

Thu thập tối thiểu 90 ngày lịch sử (nếu API hỗ trợ).

Lưu dataset thành file CSV với các trường: ngày, floor price (USD), volume, market cap.

2. Tiền xử lý và trực quan hóa dữ liệu:
Làm sạch và xử lý missing data nếu có.

Tạo các đặc trưng (feature engineering) như: biến động giá/ngày, moving average, % thay đổi volume...

Vẽ biểu đồ trực quan hóa dữ liệu: price và volume theo thời gian, histogram của các biến.

3. Xây dựng pipeline dự đoán giá:
Chia dữ liệu thành tập train/test (thời gian thực).

Áp dụng ensemble 3 mô hình:

Random Forest Regressor (scikit-learn)

Gradient Boosting Regressor (scikit-learn)

XGBoost Regressor (xgboost)

Hợp nhất kết quả dự đoán bằng trung bình hoặc voting.

Đánh giá performance (MAE, RMSE, R2-score) và trực quan hóa kết quả dự đoán (so sánh giá thực tế và giá dự báo trên biểu đồ).

4. Yêu cầu code:
Code Python đầy đủ (file .py hoặc Jupyter Notebook), có chú thích, dễ tái sử dụng.

Dùng các thư viện chuẩn: requests, pandas, numpy, matplotlib/seaborn, scikit-learn, xgboost.

Viết code dạng module, dễ thay đổi giữa NFT hoặc coin (có thể chuyển ID tài sản bằng biến).

Nếu cần, thêm ví dụ sử dụng để chuyển đổi nhanh giữa các collection/coin khác nhau.

Gợi ý:

Với NFT: dùng ví dụ endpoint:
https://api.coingecko.com/api/v3/nfts/bored-ape-yacht-club/market_chart?vs_currency=usd&days=90

Với coin:
https://api.coingecko.com/api/v3/coins/bitcoin/market_chart?vs_currency=usd&days=90

Yêu cầu:

Đảm bảo mô hình cho phép chuyển đổi linh hoạt giữa nhiều tài sản (NFT hoặc coin) chỉ bằng 1 dòng thay đổi ID.

Output: Đầy đủ file code, cho phép chạy ngay trên Jupyter Notebook hoặc Python script.